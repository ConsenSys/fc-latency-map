# Get miners
sequenceDiagram
    Manager->>+Filecoin Node: Get valid deals
    Filecoin Node-->>-Manager: Returns deals list
    Manager->>+Manager: Get miners list from deals

    Manager->>+Database: Store miners

# Get measurements
sequenceDiagram

    Manager->>+Database: Get probes
    Database-->>-Manager: Returns probes list

    Manager->>+Ripe Atlas: Create measurement
    Ripe Atlas-->>-Manager: Returns measurement ID

    loop Loop
        Manager->>+Ripe Atlas: Check completion
        Ripe Atlas-->>-Manager: Returns completion status
    end

    Manager->>+Ripe Atlas: Get measurement
    Ripe Atlas-->>-Manager: Returns measurement data

    Manager->>+Database: Store measurements

# Get probes
sequenceDiagram
    Manager->>+Database: Insert locations list
    Database-->>-Manager: Get locations list

    Manager->>+Ripe Atlas: Request probes
    Ripe Atlas-->>-Manager: Returns probes list

    Manager->>+Database: Store probes

# Export measurements
sequenceDiagram
    Manager->>+Database: Get measurements
    Database-->>-Manager: Returns measurements

    Manager->>+Manager: Export measurements